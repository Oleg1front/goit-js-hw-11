{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const loader = document.querySelector('.loader');\n\nfunction fetchImg(searchInput) {\n  const apiKey = '42869495-3eaffa1d7f59c13a6a9af4ac7';\n  const searchWord = searchInput.value;\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchWord}&orientation=horizontal&safesearch=true`;\n  showLoader();\n  if (searchWord === '') {\n    return;\n  }\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport default fetchImg;\n\nfunction showLoader() {\n  loader.classList.add('is-open');\n}\nfunction hideLoader() {\n  loader.classList.remove('is-open');\n}\n","function createGalleryMarkup(items) {\n  const gallery = document.querySelector('.gallery');\n  const markup = items\n    .map(item => {\n      return `<li class=\"gallery-list-item\">\n        <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n            <img class=\"gallery-list-item-img\" src=\"${item.webformatURL}\" alt=\"${item.tags}\"/>        \n        </a>\n            <div class=\"text-wrapper\">\n                <div class=\"item-text-wrapper\">\n                    <p class =\"gallery-list-item-text-1\">Likes</p>\n                    <p class =\"gallery-list-item-text\">${item.likes}</p>\n                </div>\n                <div class=\"item-text-wrapper\">\n                    <p class =\"gallery-list-item-text-1\">Views</p>\n                    <p class =\"gallery-list-item-text\">${item.views}</p>\n                </div>\n                <div class=\"item-text-wrapper\">\n                    <p class =\"gallery-list-item-text-1\">Comments</p>\n                    <p class =\"gallery-list-item-text\">${item.comments}</p>\n                </div>\n                <div class=\"item-text-wrapper\">\n                    <p class =\"gallery-list-item-text-1\">Downloads </p>\n                    <p class =\"gallery-list-item-text\">${item.downloads}</p>\n                </div>\n            </div>\n            \n      </li>`;\n    })\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nexport default createGalleryMarkup;\n","const form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nexport const searchInput = document.querySelector('.search-input');\nexport const startBtn = document.querySelector('.start-btn');\nconst galWrap = document.querySelector('.gallery');\nimport simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport fetchImg from './js/pixabay-api';\nimport createGalleryMarkup from './js/render-functions';\nconst lightbox = new simpleLightbox('.gallery a', {});\n\nform.addEventListener('submit', evt => {\n  galWrap.innerHTML = '';\n  evt.preventDefault();\n  fetchImg(searchInput)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight',\n        });\n      }\n\n      createGalleryMarkup(hits);\n      lightbox.refresh();\n      loader.classList.remove('is-open');\n    })\n    .catch(Error => console.log(Error));\n\n  form.reset();\n});\n"],"names":["loader","fetchImg","searchInput","apiKey","searchWord","url","showLoader","response","createGalleryMarkup","items","gallery","markup","item","form","galWrap","lightbox","simpleLightbox","evt","hits","iziToast","Error"],"mappings":"6vBAAA,MAAMA,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EAASC,EAAa,CAC7B,MAAMC,EAAS,qCACTC,EAAaF,EAAY,MACzBG,EAAM,gCAAgCF,CAAM,MAAMC,CAAU,0CAElE,GADAE,IACIF,IAAe,GAInB,OAAO,MAAMC,CAAG,EAAE,KAAKE,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAIA,SAASD,GAAa,CACpBN,EAAO,UAAU,IAAI,SAAS,CAChC,CCvBA,SAASQ,EAAoBC,EAAO,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EACZ,IAAIG,GACI;AAAA,wCAC2BA,EAAK,aAAa;AAAA,sDACJA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yDAKjCA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,yDAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,yDAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,yDAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,YAKlE,EACA,KAAK,EAAE,EACVF,EAAQ,mBAAmB,YAAaC,CAAM,CAChD,CC/BA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCb,EAAS,SAAS,cAAc,SAAS,EAClCE,EAAc,SAAS,cAAc,eAAe,EACzC,SAAS,cAAc,YAAY,EAC3D,MAAMY,EAAU,SAAS,cAAc,UAAU,EAQ3CC,EAAW,IAAIC,EAAe,aAAc,CAAE,CAAA,EAEpDH,EAAK,iBAAiB,SAAUI,GAAO,CACrCH,EAAQ,UAAY,GACpBG,EAAI,eAAc,EAClBhB,EAASC,CAAW,EACjB,KAAK,CAAC,CAAE,KAAAgB,KAAW,CACdA,EAAK,SAAW,GAClBC,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,UACpB,CAAS,EAGHX,EAAoBU,CAAI,EACxBH,EAAS,QAAO,EAChBf,EAAO,UAAU,OAAO,SAAS,CACvC,CAAK,EACA,MAAMoB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpCP,EAAK,MAAK,CACZ,CAAC"}